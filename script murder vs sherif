local OrionLib = loadstring(game:HttpGet('https://raw.githubusercontent.com/ShadowsHubseila/lib...-/refs/heads/main/ORIONBYME.txt'))()

local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local LocalPlayer = Players.LocalPlayer

local Settings = {
    SoloMode = false,
    HeadEnabled = false,
    TorsoEnabled = false,
    BodyEnabled = false,
    HeadSize = 10,
    TorsoSize = 5,
    BodySize = 3,
    SpawnDistance = 50,
    UpdateInterval = 1.5
}

local inDuelsMap = false
local mySpawnPosition = nil
local playerSpawnPositions = {}
local confirmedAllies = {}
local roundStarted = false

local function isInDuelsMap()
    if not LocalPlayer.Character then return false end
    
    local rootPart = LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
    if not rootPart then return false end
    
    local duelsFolder = Workspace:FindFirstChild("DuelsMaps")
    if not duelsFolder then return false end
    
    for _, map in pairs(duelsFolder:GetChildren()) do
        if map:IsA("Model") or map:IsA("Folder") then
            local mapParts = map:GetDescendants()
            for _, part in pairs(mapParts) do
                if part:IsA("BasePart") then
                    local distance = (rootPart.Position - part.Position).Magnitude
                    if distance < 200 then
                        return true
                    end
                end
            end
        end
    end
    
    return false
end

local function savePlayerSpawnPosition(player)
    if not player.Character then return end
    
    local rootPart = player.Character:FindFirstChild("HumanoidRootPart")
    if not rootPart then return end
    
    if not playerSpawnPositions[player.UserId] then
        playerSpawnPositions[player.UserId] = rootPart.Position
    end
end

local function isSameTeamBySpawn(player)
    if player == LocalPlayer then return true end
    if not mySpawnPosition then return false end
    
    if confirmedAllies[player.UserId] then return true end
    
    local playerSpawn = playerSpawnPositions[player.UserId]
    if playerSpawn then
        local distance = (mySpawnPosition - playerSpawn).Magnitude
        if distance <= Settings.SpawnDistance then
            confirmedAllies[player.UserId] = true
            return true
        else
            return false
        end
    end
    
    if player.Character then
        local rootPart = player.Character:FindFirstChild("HumanoidRootPart")
        if rootPart then
            local distance = (mySpawnPosition - rootPart.Position).Magnitude
            if distance <= Settings.SpawnDistance then
                confirmedAllies[player.UserId] = true
                return true
            end
        end
    end
    
    return false
end

local function isSameTeamByTeam(player)
    if player == LocalPlayer then return true end
    
    if LocalPlayer.Team and player.Team then
        return LocalPlayer.Team == player.Team
    end
    
    return false
end

local function isSameTeamByColor(player)
    if player == LocalPlayer then return true end
    if not player.Character then return false end
    
    local myColor = nil
    if LocalPlayer.Character then
        for _, partName in pairs({"Torso", "UpperTorso", "Left Arm", "Right Arm"}) do
            local part = LocalPlayer.Character:FindFirstChild(partName)
            if part and part:IsA("BasePart") then
                local color = part.Color
                if color.B > 0.5 and color.R < 0.4 and color.G < 0.4 then
                    myColor = "Blue"
                    break
                end
                if color.R > 0.5 and color.G < 0.4 and color.B < 0.4 then
                    myColor = "Red"
                    break
                end
            end
        end
    end
    
    if not myColor then return false end
    
    for _, partName in pairs({"Torso", "UpperTorso", "Left Arm", "Right Arm"}) do
        local part = player.Character:FindFirstChild(partName)
        if part and part:IsA("BasePart") then
            local color = part.Color
            if myColor == "Blue" and color.B > 0.5 and color.R < 0.4 and color.G < 0.4 then
                return true
            end
            if myColor == "Red" and color.R > 0.5 and color.G < 0.4 and color.B < 0.4 then
                return true
            end
        end
    end
    
    return false
end

local function isAlly(player)
    if player == LocalPlayer then return true end
    
    if Settings.SoloMode then
        return false
    end
    
    if isSameTeamBySpawn(player) then
        return true
    end
    
    if isSameTeamByTeam(player) then
        confirmedAllies[player.UserId] = true
        return true
    end
    
    if isSameTeamByColor(player) then
        confirmedAllies[player.UserId] = true
        return true
    end
    
    return false
end

local function resetPart(part)
    if not part then return end
    
    local originalSize = part:GetAttribute("OriginalSize")
    if originalSize then
        pcall(function()
            part.Size = originalSize
            
            local mesh = part:FindFirstChildOfClass("SpecialMesh")
            if mesh then
                mesh.Scale = Vector3.new(1, 1, 1)
            end
        end)
    end
end

local function resetCharacter(character)
    if not character then return end
    
    for _, part in pairs(character:GetChildren()) do
        if part:IsA("BasePart") then
            resetPart(part)
        end
    end
end

local function resetAll()
    for _, player in pairs(Players:GetPlayers()) do
        if player.Character then
            resetCharacter(player.Character)
        end
    end
end

local function expandHead(character)
    if not character then return end
    if not Settings.HeadEnabled then return end
    
    local head = character:FindFirstChild("Head")
    if not head then return end
    
    pcall(function()
        if not head:GetAttribute("OriginalSize") then
            head:SetAttribute("OriginalSize", head.Size)
        end
        
        local originalSize = head:GetAttribute("OriginalSize")
        local multiplier = Settings.HeadSize
        
        head.Size = Vector3.new(
            originalSize.X * multiplier,
            originalSize.Y * multiplier,
            originalSize.Z * multiplier
        )
        
        local mesh = head:FindFirstChildOfClass("SpecialMesh")
        if mesh then
            mesh.Scale = Vector3.new(multiplier, multiplier, multiplier)
        end
        
        head.CanCollide = false
        head.Massless = true
    end)
end

local function expandTorso(character)
    if not character then return end
    if not Settings.TorsoEnabled then return end
    
    local parts = {
        character:FindFirstChild("UpperTorso"),
        character:FindFirstChild("LowerTorso"),
        character:FindFirstChild("Torso")
    }
    
    for _, part in pairs(parts) do
        if part then
            pcall(function()
                if not part:GetAttribute("OriginalSize") then
                    part:SetAttribute("OriginalSize", part.Size)
                end
                
                local originalSize = part:GetAttribute("OriginalSize")
                local multiplier = Settings.TorsoSize
                
                part.Size = Vector3.new(
                    originalSize.X * multiplier,
                    originalSize.Y * multiplier,
                    originalSize.Z * multiplier
                )
                
                local mesh = part:FindFirstChildOfClass("SpecialMesh")
                if mesh then
                    mesh.Scale = Vector3.new(multiplier, multiplier, multiplier)
                end
                
                part.CanCollide = false
                part.Massless = true
            end)
        end
    end
end

local function expandBody(character)
    if not character then return end
    if not Settings.BodyEnabled then return end
    
    for _, part in pairs(character:GetChildren()) do
        if part:IsA("BasePart") and part.Name ~= "HumanoidRootPart" and part.Name ~= "Head" then
            pcall(function()
                if not part:GetAttribute("OriginalSize") then
                    part:SetAttribute("OriginalSize", part.Size)
                end
                
                local originalSize = part:GetAttribute("OriginalSize")
                local multiplier = Settings.BodySize
                
                part.Size = Vector3.new(
                    originalSize.X * multiplier,
                    originalSize.Y * multiplier,
                    originalSize.Z * multiplier
                )
                
                local mesh = part:FindFirstChildOfClass("SpecialMesh")
                if mesh then
                    mesh.Scale = Vector3.new(multiplier, multiplier, multiplier)
                end
                
                part.CanCollide = false
                part.Massless = true
            end)
        end
    end
end

local function detectAllies()
    if roundStarted then return end
    if Settings.SoloMode then 
        roundStarted = true
        return 
    end
    
    if LocalPlayer.Character then
        local rootPart = LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
        if rootPart then
            mySpawnPosition = rootPart.Position
            playerSpawnPositions[LocalPlayer.UserId] = mySpawnPosition
        end
    end
    
    wait(2)
    
    for _, player in pairs(Players:GetPlayers()) do
        if player.Character then
            savePlayerSpawnPosition(player)
        end
    end
    
    wait(1)
    
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character then
            isAlly(player)
        end
    end
    
    roundStarted = true
end

local function updateAllPlayers()
    if not inDuelsMap then return end
    
    if Settings.SoloMode then
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LocalPlayer and player.Character then
                if Settings.HeadEnabled then
                    expandHead(player.Character)
                end
                
                if Settings.TorsoEnabled then
                    expandTorso(player.Character)
                end
                
                if Settings.BodyEnabled then
                    expandBody(player.Character)
                end
            end
        end
        return
    end
    
    if not roundStarted then return end
    
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character then
            if not isAlly(player) then
                if Settings.HeadEnabled then
                    expandHead(player.Character)
                end
                
                if Settings.TorsoEnabled then
                    expandTorso(player.Character)
                end
                
                if Settings.BodyEnabled then
                    expandBody(player.Character)
                end
            end
        end
    end
end

local function resetState()
    inDuelsMap = false
    roundStarted = false
    mySpawnPosition = nil
    playerSpawnPositions = {}
    confirmedAllies = {}
    resetAll()
end

spawn(function()
    while true do
        wait(2)
        
        local wasInDuels = inDuelsMap
        local nowInDuels = isInDuelsMap()
        
        if wasInDuels and not nowInDuels then
            resetState()
        end
        
        if not wasInDuels and nowInDuels then
            inDuelsMap = true
            roundStarted = false
            wait(0.5)
            detectAllies()
            wait(1)
            updateAllPlayers()
        end
    end
end)

LocalPlayer.CharacterAdded:Connect(function(character)
    character:WaitForChild("Head")
    wait(1)
    
    if isInDuelsMap() then
        inDuelsMap = true
        roundStarted = false
        detectAllies()
        updateAllPlayers()
    end
end)

Players.PlayerAdded:Connect(function(player)
    player.CharacterAdded:Connect(function(character)
        character:WaitForChild("Head")
        wait(1.5)
        
        if inDuelsMap then
            if Settings.SoloMode or (roundStarted and not isAlly(player)) then
                if Settings.HeadEnabled then
                    expandHead(character)
                end
                
                if Settings.TorsoEnabled then
                    expandTorso(character)
                end
                
                if Settings.BodyEnabled then
                    expandBody(character)
                end
            end
        end
    end)
end)

spawn(function()
    while true do
        wait(Settings.UpdateInterval)
        
        if inDuelsMap then
            updateAllPlayers()
        end
    end
end)

local Window = OrionLib:MakeWindow({
    Name = "Shad0ws Hub",
    HidePremium = false,
    SaveConfig = false,
    IntroEnabled = false
})

local MainTab = Window:MakeTab({
    Name = "Aimbot Corpo",
    Icon = "rbxassetid://13577838989",
    PremiumOnly = false
})

MainTab:AddSection({Name = "Modo de Jogo"})

MainTab:AddSection({Name = "Configuracoes"})

MainTab:AddToggle({
    Name = "Aumentar Cabeca",
    Default = false,
    Callback = function(Value)
        Settings.HeadEnabled = Value
        
        if Value then
            if inDuelsMap then
                updateAllPlayers()
            end
            
            OrionLib:MakeNotification({
                Name = "Cabeca Ativada",
                Content = "Cabecas aumentadas",
                Time = 2
            })
        else
            for _, player in pairs(Players:GetPlayers()) do
                if player.Character then
                    local head = player.Character:FindFirstChild("Head")
                    if head then
                        resetPart(head)
                    end
                end
            end
            
            OrionLib:MakeNotification({
                Name = "Cabeca Desativada",
                Content = "Cabecas resetadas",
                Time = 2
            })
        end
    end    
})

MainTab:AddSlider({
    Name = "Tamanho da Cabeca",
    Min = 2,
    Max = 30,
    Default = 10,
    Increment = 1,
    ValueName = "x",
    Callback = function(Value)
        Settings.HeadSize = Value
        
        if Settings.HeadEnabled and inDuelsMap then
            updateAllPlayers()
        end
    end    
})

MainTab:AddSection({Name = ""})

MainTab:AddToggle({
    Name = "Aumentar Tronco",
    Default = false,
    Callback = function(Value)
        Settings.TorsoEnabled = Value
        
        if Value then
            if inDuelsMap then
                updateAllPlayers()
            end
            
            OrionLib:MakeNotification({
                Name = "Tronco Ativado",
                Content = "Troncos aumentados",
                Time = 2
            })
        else
            for _, player in pairs(Players:GetPlayers()) do
                if player.Character then
                    for _, partName in pairs({"Torso", "UpperTorso", "LowerTorso"}) do
                        local part = player.Character:FindFirstChild(partName)
                        if part then
                            resetPart(part)
                        end
                    end
                end
            end
            
            OrionLib:MakeNotification({
                Name = "Tronco Desativado",
                Content = "Troncos resetados",
                Time = 2
            })
        end
    end    
})

MainTab:AddSlider({
    Name = "Tamanho do Tronco",
    Min = 2,
    Max = 20,
    Default = 5,
    Increment = 1,
    ValueName = "x",
    Callback = function(Value)
        Settings.TorsoSize = Value
        
        if Settings.TorsoEnabled and inDuelsMap then
            updateAllPlayers()
        end
    end    
})

MainTab:AddSection({Name = ""})

MainTab:AddToggle({
    Name = "Aumentar Corpo Inteiro",
    Default = false,
    Callback = function(Value)
        Settings.BodyEnabled = Value
        
        if Value then
            if inDuelsMap then
                updateAllPlayers()
            end
            
            OrionLib:MakeNotification({
                Name = "Corpo Ativado",
                Content = "Corpos aumentados",
                Time = 2
            })
        else
            resetAll()
            
            OrionLib:MakeNotification({
                Name = "Corpo Desativado",
                Content = "Corpos resetados",
                Time = 2
            })
        end
    end    
})

MainTab:AddSlider({
    Name = "Tamanho do Corpo",
    Min = 2,
    Max = 15,
    Default = 3,
    Increment = 1,
    ValueName = "x",
    Callback = function(Value)
        Settings.BodySize = Value
        
        if Settings.BodyEnabled and inDuelsMap then
            updateAllPlayers()
        end
    end    
})

MainTab:AddSection({Name = "Informacoes"})

MainTab:AddParagraph("Script:", "Aumenta CabeÃ§a etc Dos jogadores")

OrionLib:Init()